---
# yaml-language-server: $schema=https://raw.githubusercontent.com/ansible/ansible-lint/main/src/ansiblelint/schemas/ansible.json#/$defs/tasks
- name: Update homebrew
  community.general.homebrew:
    update_homebrew: true
# Using a loop is less effecient than using a single task with a list of
# packages. but this avoids the need to separate out cask only packages.
# brew will not allow cask and formulae to be installed in the same task.
- name: Install homebrew forumale
  loop: "{{ brew_packages }}"
  community.general.homebrew:
    name: "{{ item }}"
    state: "present" # i'd like to run as latest but it causes issues with any existing packages and brew.
    install_options: overwrite
# Notes
# failed: openssh